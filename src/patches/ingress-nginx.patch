diff --git a/images/nginx/rootfs/build.sh b/images/nginx/rootfs/build.sh
index 167485a46..b084bd9e0 100755
--- a/images/nginx/rootfs/build.sh
+++ b/images/nginx/rootfs/build.sh
@@ -15,4 +15,5 @@
 # limitations under the License.
 
+set -o xtrace
 set -o errexit
 set -o nounset
@@ -58,5 +59,5 @@ export LUA_RESTY_IPMATCHER_VERSION=1a0a1c58fd085b15eedee58de8b5f45c27aff7bc
 export LUA_RESTY_GLOBAL_THROTTLE_VERSION=0.2.0
 
-export BUILD_PATH=/tmp/build
+export BUILD_PATH=/usr/src
 
 ARCH=$(uname -m)
@@ -79,10 +80,8 @@ get_src()
 apk add \
   bash \
-  gcc \
   clang \
   libc-dev \
   make \
   automake \
-  openssl-dev \
   pcre-dev \
   zlib-dev \
@@ -99,12 +98,9 @@ apk add \
   patch \
   libaio-dev \
-  openssl \
   cmake \
   util-linux \
-  lmdb-tools \
   wget \
-  curl-dev \
   libprotobuf \
-  git g++ pkgconf flex bison doxygen yajl-dev lmdb-dev libtool autoconf libxml2 libxml2-dev \
+  git g++ pkgconf flex bison doxygen yajl-dev libtool autoconf libxml2 libxml2-dev \
   python3 \
   libmaxminddb-dev \
@@ -386,5 +382,6 @@ sed -i '117i AC_SUBST(LUA_CFLAGS)' build/lua.m4
   --disable-doxygen-doc \
   --disable-doxygen-html \
-  --disable-examples
+  --disable-examples \
+  --enable-shared=no
 
 make
@@ -487,8 +484,10 @@ CC_OPT="-g -Og -fPIE -fstack-protector-strong \
   -DTCP_FASTOPEN=23 \
   -fPIC \
+  -no-pie \
+  -static \
   -I$HUNTER_INSTALL_DIR/include \
   -Wno-cast-function-type"
 
-LD_OPT="-fPIE -fPIC -pie -Wl,-z,relro -Wl,-z,now -L$HUNTER_INSTALL_DIR/lib"
+LD_OPT="-fPIC -no-pie -static -L$HUNTER_INSTALL_DIR/lib"
 
 if [[ ${ARCH} != "aarch64" ]]; then
@@ -509,10 +508,10 @@ WITH_MODULES=" \
   --add-module=$BUILD_PATH/lua-upstream-nginx-module-$LUA_UPSTREAM_VERSION \
   --add-module=$BUILD_PATH/nginx_ajp_module-${NGINX_AJP_VERSION} \
-  --add-dynamic-module=$BUILD_PATH/nginx-http-auth-digest-$NGINX_DIGEST_AUTH \
-  --add-dynamic-module=$BUILD_PATH/nginx-influxdb-module-$NGINX_INFLUXDB_VERSION \
-  --add-dynamic-module=$BUILD_PATH/nginx-opentracing-$NGINX_OPENTRACING_VERSION/opentracing \
-  --add-dynamic-module=$BUILD_PATH/ModSecurity-nginx-$MODSECURITY_VERSION \
-  --add-dynamic-module=$BUILD_PATH/ngx_http_geoip2_module-${GEOIP2_VERSION} \
-  --add-dynamic-module=$BUILD_PATH/ngx_brotli"
+  --add-module=$BUILD_PATH/nginx-http-auth-digest-$NGINX_DIGEST_AUTH \
+  --add-module=$BUILD_PATH/nginx-influxdb-module-$NGINX_INFLUXDB_VERSION \
+  --add-module=$BUILD_PATH/nginx-opentracing-$NGINX_OPENTRACING_VERSION/opentracing \
+  --add-module=$BUILD_PATH/ModSecurity-nginx-$MODSECURITY_VERSION \
+  --add-module=$BUILD_PATH/ngx_http_geoip2_module-${GEOIP2_VERSION} \
+  --add-module=$BUILD_PATH/ngx_brotli"
 
 ./configure \
